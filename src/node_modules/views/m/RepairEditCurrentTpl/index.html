<div id="RepairEditCurrent" data-vpid="<%-VPID%>" data-vpcon="`{MODURL}`.js">
    <style>@@include('main.css')</style>
<%-TopBar%>
    <div id="RepairEditCurrent_vue">
        <div class="container">
            <h1>{{demand.type_name}}维修 </h1>
            <h4>编辑项目信息</h4>
            <p class="description">项目信息越健全，报价和方案越精准</p>
        </div>
        <div class="bg-color">
            <div class="container">
                <div class="choose-panel">
                    <div class=" type">
                        <span class="words">类型</span>
                        <p class="show-menu" v-on:click="showType()">
                            {{demand.type_name}}
                            <span class="icon-circle-down" v-bind:class="{ rotate: typeClick }"></span>
                        </p>
                        <div class="type-choice" v-if="typeClick" v-on:click="getType">
                            <p class="type-item" v-for="type in Url.typeUrl" v-bind:value="type.id">{{type.name}}</p>
                        </div>
                    </div>
                    <div class=" color">
                        <span class="words">颜色</span>
                        <p class="show-menu" v-on:click="showColor()">
                            {{demand.color_name}}
                            <span class="icon-circle-down" v-bind:class="{ rotate: colorClick }"></span>
                        </p>
                        <div class="color-choice" v-if="colorClick" v-on:click="getColor">
                            <p class="color-item" v-for="color in Url.colorUrl" v-bind:value="color.id">{{color.name}}</p>
                        </div>
                    </div> 
                </div>
                <div class="choose-panel">
                    <div class=" span">
                        <span class="words">间距</span>
                        <p class="show-menu" v-on:click="showSpan()">
                            {{demand.span}}
                            <span class="icon-circle-down" v-bind:class="{ rotate: spanClick }"></span>
                        </p>
                        <div class="span-choice" v-if="spanClick" v-on:click="getSpan">
                            <p class="span-item" v-for="span in Url.spanUrl" v-bind:value="span.id">{{span.name}}</p>
                        </div>
                        <div class="choice-other" v-if="OtherClick">
                            <span class="words">其他</span>
                            <input type="text" class="input-div other" v-model="otherSpan" maxlength="3" placeholder="如p8、p10" />
                            <span class="close-other icon-cross" v-on:click="getClean"></span>
                            <span class="sure-other" v-on:click="getSure">确定</span>
                        </div>
                    </div>
                    <div class=" fault">
                        <span class="words">故障描述</span>
                        <p class="show-menu" v-on:click="showFault()">
                            {{demand.malf_name}}
                            <span class="icon-circle-down" v-bind:class="{ rotate: faultClick }"></span>
                        </p>
                        <div class="fault-choice" v-if="faultClick" v-on:click="getfault">
                            <p class="fault-item" v-for="fault in Url.faultUrl" v-bind:value="fault.id">{{fault.name}}</p>
                        </div>
                        <!--<div class="choice-other" v-if="OtherClick">
                            <span class="words">其他</span>
                            <input type="text" class="input-div other" v-model="otherfault" maxlength="3" placeholder="如p8、p10" />
                            <span class="close-other icon-cross" v-on:click="getClean"></span>
                            <span class="sure-other" v-on:click="getSure">确定</span>
                        </div>-->
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="with-address">
                <span class="words">屏幕地址
                    <span class="must-fill">(必填)</span>
                    </span>
                <input type="text" class="input-div size" v-model="demand.address" must="true" placeholder="输入详细地址(如区，街道，门牌号等)" maxlength=100  />
            </div>
            <div class="with-size">
                <span class="words">用屏面积
                    <!--<span class="must-fill">(必填)</span>-->
                    </span>
                <input type="number" class="input-div size" v-model="demand.size" must="true" placeholder="面积(请填写数字，如15)" maxlength=10 />
                <span class="unit">m<sup>2</sup></span>
            </div>
            <div class="with-budget">
                <span class="words">维修预算</span>
                <input type="number" class="input-div budget" v-model="demand.budget" must="false" placeholder="输入预算金额" maxlength=10  />
                <span
                    class="unit">元</span>
            </div>
        </div>
        <div class="bg-color">
            <div class="container">
                <div class="with-text">
                    <span class="words">备注</span>
                    <textarea class="input-div" v-model="demand.note" placeholder="输入备注 (如工程条件和要求、产品要求、产品品牌要求、供应商要求等）" maxlength=140></textarea>
                </div>
            </div>
        </div>
        <div class="container last-part">
            <div class="with-picture">
                <span class="words up-words">附加屏幕故障图片</span>
                <!-- 文件选择 ,选择之后隐藏,显示上面的预览div-->
                <div class="file-upload ">
                    <%-ImageUploader%> 
                </div>
            </div>
            <button type="submit" class="btn btn-primary btn-block" v-bind:disabled="clicked" v-on:click="submitEdit">提交</button>
        </div>
    </div>
</div>